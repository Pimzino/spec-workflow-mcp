# VS Code æ‰©å±•æ‰“åŒ…è¯´æ˜

## âœ… æ‰“åŒ…æˆåŠŸï¼

**ç”Ÿæˆæ–‡ä»¶ï¼š** `spec-workflow-mcp-1.0.0.vsix` (329 KB)

## ğŸ“¦ æ‰“åŒ…å†…å®¹

### âœ… å·²åŒ…å«çš„æ–‡ä»¶

```
spec-workflow-mcp-1.0.0.vsix
â”œâ”€â”€ æ‰©å±•æ ¸å¿ƒ
â”‚   â”œâ”€â”€ dist/extension.js          # ç¼–è¯‘åçš„æ‰©å±•ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ package.json               # æ‰©å±•é…ç½®
â”‚   â””â”€â”€ icon.png                   # æ‰©å±•å›¾æ ‡
â”‚
â”œâ”€â”€ Webview å‰ç«¯
â”‚   â”œâ”€â”€ webview-dist/
â”‚   â”‚   â”œâ”€â”€ main.js               # ä¸»ç•Œé¢ (144 KB)
â”‚   â”‚   â”œâ”€â”€ i18n.js               # å›½é™…åŒ– (312 KB)
â”‚   â”‚   â”œâ”€â”€ comment-modal.js      # è¯„è®ºå¼¹çª— (35 KB)
â”‚   â”‚   â”œâ”€â”€ globals.css           # æ ·å¼ (50 KB)
â”‚   â”‚   â”œâ”€â”€ *.html                # HTML æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ locales/              # å¤šè¯­è¨€æ–‡ä»¶
â”‚   â”‚       â”œâ”€â”€ zh.json
â”‚   â”‚       â”œâ”€â”€ en.json
â”‚   â”‚       â”œâ”€â”€ ja.json
â”‚   â”‚       â””â”€â”€ ... (11 ç§è¯­è¨€)
â”‚   â”‚
â”‚   â””â”€â”€ webview-assets/sounds/    # éŸ³æ•ˆæ–‡ä»¶
â”‚       â”œâ”€â”€ approval-pending.wav
â”‚       â””â”€â”€ task-completed.wav
â”‚
â”œâ”€â”€ èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ icons/
â”‚   â”‚   â”œâ”€â”€ activity-bar-icon.svg
â”‚   â”‚   â””â”€â”€ spec-workflow.svg
â”‚   â”‚
â”‚   â””â”€â”€ package.nls.*.json        # å¤šè¯­è¨€é…ç½®
â”‚
â””â”€â”€ æ–‡æ¡£
    â”œâ”€â”€ README.md
    â”œâ”€â”€ CHANGELOG.md
    â”œâ”€â”€ PACKAGING.md
    â””â”€â”€ LICENSE
```

### âŒ å·²æ’é™¤çš„æ–‡ä»¶ï¼ˆä¼˜åŒ–ä½“ç§¯ï¼‰

- âŒ `src/` - TypeScript æºä»£ç 
- âŒ `node_modules/` - ä¾èµ–åŒ…ï¼ˆå·²æ‰“åŒ…åˆ° dist/ï¼‰
- âŒ `*.ts` - TypeScript æ–‡ä»¶
- âŒ `tsconfig*.json` - TypeScript é…ç½®
- âŒ `vite.config.ts` - æ„å»ºé…ç½®
- âŒ `*.test.*` - æµ‹è¯•æ–‡ä»¶

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1ï¼šå‘½ä»¤è¡Œå®‰è£…

```bash
code --install-extension spec-workflow-mcp-1.0.0.vsix
```

### æ–¹æ³• 2ï¼šVS Code ç•Œé¢å®‰è£…

1. æ‰“å¼€ VS Code
2. æ‰©å±•é¢æ¿ (Ctrl/Cmd + Shift + X)
3. ç‚¹å‡» `...` â†’ "ä» VSIX å®‰è£…..."
4. é€‰æ‹© `spec-workflow-mcp-1.0.0.vsix`

### æ–¹æ³• 3ï¼šæ‹–æ‹½å®‰è£…

ç›´æ¥æ‹–æ‹½ `.vsix` æ–‡ä»¶åˆ° VS Code çª—å£

## ğŸ“ é‡æ–°æ‰“åŒ…

### å®Œæ•´æ‰“åŒ…ï¼ˆæ¨èï¼‰

```bash
cd vscode-extension
npm run package
```

æ‰§è¡Œæ­¥éª¤ï¼š
1. âœ… ç±»å‹æ£€æŸ¥
2. âœ… ä»£ç æ£€æŸ¥
3. âœ… ç¼–è¯‘ Webview
4. âœ… ç¼–è¯‘æ‰©å±•
5. âœ… ç”Ÿæˆ .vsix

### å¿«é€Ÿæ‰“åŒ…

å¦‚æœå·²ç¼–è¯‘ï¼Œåªæƒ³é‡æ–°æ‰“åŒ…ï¼š

```bash
npm run package:vsix
```

## ğŸ“Š æ‰“åŒ…é…ç½®

### æ–°å¢çš„è„šæœ¬ (package.json)

```json
{
  "scripts": {
    "package": "... && vsce package",
    "package:vsix": "vsce package",
    "publish": "vsce publish"
  }
}
```

### æ‰“åŒ…æ§åˆ¶æ–‡ä»¶

**`.vscodeignore`** - æ§åˆ¶å“ªäº›æ–‡ä»¶ä¸æ‰“åŒ…

```
# æ’é™¤æºç 
src/**
*.ts

# æ’é™¤å¼€å‘é…ç½®
tsconfig*.json
vite.config.ts
esbuild.js

# æ’é™¤ä¾èµ–
node_modules/**
```

## ğŸ” éªŒè¯æ‰“åŒ…å†…å®¹

æŸ¥çœ‹ .vsix åŒ…ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼š

```bash
npx vsce ls
```

æŸ¥çœ‹æ‰“åŒ…ä¿¡æ¯ï¼š

```bash
npx vsce show
```

## ğŸ“¤ å‘å¸ƒåˆ°å¸‚åœº

### 1. å‡†å¤‡å·¥ä½œ

- åˆ›å»º Azure DevOps è´¦å·
- è·å– Personal Access Token (PAT)
- é…ç½®å‘å¸ƒè€… ID (publisher)

### 2. ç™»å½•

```bash
npx vsce login Pimzino
```

### 3. å‘å¸ƒ

```bash
npm run publish
```

æˆ–æŒ‰ç‰ˆæœ¬ç±»å‹å‘å¸ƒï¼š

```bash
npx vsce publish patch  # 1.0.0 â†’ 1.0.1
npx vsce publish minor  # 1.0.0 â†’ 1.1.0
npx vsce publish major  # 1.0.0 â†’ 2.0.0
```

## ğŸ“ ä½“ç§¯ä¼˜åŒ–

å½“å‰æ‰“åŒ…ä½“ç§¯ï¼š**329 KB** âœ…

### ä¼˜åŒ–æ•ˆæœ

| é¡¹ç›® | åŸå§‹å¤§å° | ä¼˜åŒ–å | è¯´æ˜ |
|------|---------|--------|------|
| æ‰©å±•ä»£ç  | ~2MB | æ‰“åŒ…åˆ°ä¸€ä¸ªæ–‡ä»¶ | esbuild æ‰“åŒ… |
| Webview | ~5MB | ~550KB | Vite å‹ç¼© |
| ä¾èµ– | ~100MB | ä¸æ‰“åŒ… | å·²å†…è”åˆ°ä»£ç ä¸­ |
| æºç  | ~1MB | ä¸æ‰“åŒ… | ä»…æ‰“åŒ… dist/ |

### è¿›ä¸€æ­¥ä¼˜åŒ–å»ºè®®

1. **å¯ç”¨ Source Map æ’é™¤**ï¼š`.vscodeignore` ä¸­æ·»åŠ  `*.map`
2. **å‹ç¼©å›¾æ ‡**ï¼šä½¿ç”¨ SVG è€Œé PNG
3. **æŒ‰éœ€åŠ è½½**ï¼šå¤§å‹åº“è€ƒè™‘å¼‚æ­¥åŠ è½½

## âš ï¸ æ³¨æ„äº‹é¡¹

### æ‰“åŒ…å‰æ£€æŸ¥æ¸…å•

- [ ] ç‰ˆæœ¬å·å·²æ›´æ–° (package.json)
- [ ] CHANGELOG å·²æ›´æ–°
- [ ] README å†…å®¹å®Œæ•´
- [ ] æ‰€æœ‰åŠŸèƒ½å·²æµ‹è¯•
- [ ] æ—  linter é”™è¯¯

### å¸¸è§é—®é¢˜

**Q: æ‰“åŒ…åæ‰©å±•æ— æ³•æ¿€æ´»ï¼Ÿ**
A: æ£€æŸ¥ `main` å­—æ®µæ˜¯å¦æŒ‡å‘ `./dist/extension.js`

**Q: å›¾æ ‡ä¸æ˜¾ç¤ºï¼Ÿ**
A: ç¡®ä¿ `icon.png` å’Œ `icons/` ç›®å½•æ²¡æœ‰è¢« `.vscodeignore` æ’é™¤

**Q: å¤šè¯­è¨€ä¸ç”Ÿæ•ˆï¼Ÿ**
A: ç¡®ä¿ `package.nls.*.json` æ–‡ä»¶å·²åŒ…å«åœ¨æ‰“åŒ…ä¸­

## ğŸ”— ç›¸å…³æ–‡æ¡£

- [å®Œæ•´æ‰“åŒ…æŒ‡å—](./PACKAGING.md)
- [VS Code æ‰©å±•å‘å¸ƒ](https://code.visualstudio.com/api/working-with-extensions/publishing-extension)
- [vsce å·¥å…·æ–‡æ¡£](https://github.com/microsoft/vscode-vsce)

---

**ç”Ÿæˆæ—¶é—´ï¼š** 2025-10-14  
**ç‰ˆæœ¬ï¼š** 1.0.0

