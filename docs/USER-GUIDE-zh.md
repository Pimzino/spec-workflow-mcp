# 用户指南

使用 Spec Workflow MCP 进行 AI 辅助软件开发的综合指南。

## 入门

### 什么是 Spec Workflow MCP？

Spec Workflow MCP 是一个模型上下文协议服务器，为 AI 助手提供结构化的、规范驱动的开发工具。它帮助你：

- 在编码前创建详细的规范
- 跟踪实现进度
- 管理审批和修订
- 维护项目文档

### 基本工作流

1. **创建规范** - 定义你想要构建的内容
2. **审查和批准** - 确保规范满足要求
3. **实现任务** - 执行实施计划
4. **跟踪进度** - 监控完成状态

## 创建规范

### 简单规范创建

请求 AI 助手创建规范：

```
"创建一个用户认证的规范"
```

AI 将自动：
1. 创建需求文档
2. 设计技术方法
3. 将实现分解为任务

### 详细规范创建

提供更多上下文以获得更好的规范：

```
"创建一个名为 payment-gateway 的规范，包含以下功能：
- 信用卡处理
- PayPal 集成
- 订阅管理
- 支付事件的 Webhook 处理"
```

### 从现有文档创建

使用你现有的 PRD 或设计文档：

```
"从 @product-requirements.md 构建规范"
```

## 管理规范

### 列出所有规范

```
"列出我的所有规范"
```

返回：
- 规范名称
- 当前状态
- 进度百分比
- 文档状态

### 检查规范状态

```
"显示 user-auth 规范的状态"
```

提供：
- 需求批准状态
- 设计批准状态
- 任务完成进度
- 详细任务分解

### 查看规范文档

使用仪表板或 VSCode 扩展：
- 阅读需求文档
- 审查设计文档
- 浏览任务列表
- 跟踪实施进度

## 使用任务

### 任务结构

任务按层次结构组织：
- **1.0** - 主要部分
  - **1.1** - 子任务
  - **1.2** - 子任务
    - **1.2.1** - 详细步骤

### 实现任务

#### 方法 1：直接实现
```
"从 user-auth 规范实现任务 1.2"
```

#### 方法 2：从仪表板复制
1. 打开仪表板
2. 导航到你的规范
3. 点击"任务"选项卡
4. 点击任何任务旁边的"复制提示"按钮
5. 粘贴到你的 AI 对话中

#### 方法 3：批量实现
```
"从 user-auth 规范实现所有数据库设置任务"
```

### 任务状态

任务有三种状态：
- ⏳ **待处理** - 未开始
- 🔄 **进行中** - 正在进行
- ✅ **已完成** - 已完成

## 审批工作流

### 请求批准

当文档准备好审查时：

1. AI 自动请求批准
2. 仪表板显示通知
3. 审查文档
4. 提供反馈或批准

### 审批操作

- **批准** - 原样接受文档
- **请求更改** - 提供修订反馈
- **拒绝** - 从新需求重新开始

### 修订流程

1. 提供具体反馈
2. AI 修订文档
3. 审查更新版本
4. 批准或请求进一步更改

## Bug 工作流

### 报告 Bug

```
"为使用 SSO 时的登录失败创建 bug 报告"
```

创建：
- Bug 描述
- 重现步骤
- 预期与实际行为
- 优先级和严重性

### Bug 解决

```
"为 user-auth 规范中的 bug #123 创建修复"
```

生成：
- 根本原因分析
- 修复实施计划
- 测试要求
- 部署步骤

## 模板系统

### 使用模板

Spec Workflow 包含以下模板：
- 需求文档
- 设计文档
- 任务列表
- Bug 报告
- 指导文档

### 自定义模板

在 `.spec-workflow/templates/` 中创建你自己的模板：

```markdown
# 自定义功能模板

## 概述
[功能描述]

## 用户故事
[用户故事]

## 技术要求
[技术细节]
```

## 高级功能

### 指导文档

创建高层项目指南：

```
"为我的电子商务项目创建指导文档"
```

生成：
- **产品指导** - 愿景和目标
- **技术指导** - 架构决策
- **结构指导** - 项目组织

### 归档系统

管理已完成的规范：
- 将完成的规范移至归档
- 保持活跃工作区整洁
- 随时访问已归档的规范
- 在需要时恢复规范

### 多语言支持

更改界面语言：

1. **仪表板**：设置 → 语言
2. **VSCode 扩展**：扩展设置 → 语言
3. **配置文件**：`lang = "zh"`（或其他语言代码）

## 最佳实践

### 1. 从指导文档开始

在创建规范之前：
```
"创建指导文档来指导项目"
```

### 2. 在需求中要具体

好的：
```
"创建一个用户认证规范，包含：
- 邮箱/密码登录
- OAuth2（Google、GitHub）
- 2FA 支持
- 密码重置流程"
```

不理想：
```
"创建一个登录规范"
```

### 3. 实施前审查

始终审查和批准：
1. 需求文档
2. 设计文档
3. 任务分解

### 4. 增量实施

- 按顺序完成任务
- 每个主要部分后测试
- 定期更新任务状态

### 5. 使用仪表板

仪表板提供：
- 可视化进度跟踪
- 便捷的文档导航
- 快速批准操作
- 实时更新

## 常见工作流

### 功能开发

1. 创建规范：`"为购物车功能创建规范"`
2. 在仪表板中审查需求
3. 批准或请求更改
4. 审查设计文档
5. 批准设计
6. 按顺序实施任务
7. 在仪表板中跟踪进度

### Bug 修复

1. 报告 bug：`"为结账错误创建 bug 报告"`
2. 分析：`"分析 bug #45 的根本原因"`
3. 计划修复：`"为 bug #45 创建修复计划"`
4. 实施：`"实施修复"`
5. 验证：`"为 bug #45 修复创建测试计划"`

### 重构

1. 创建规范：`"为数据库优化创建规范"`
2. 记录当前状态
3. 设计改进
4. 计划迁移步骤
5. 增量实施
6. 验证每个步骤

## 提示和技巧

### 高效任务管理

- 对相关项目使用任务分组
- 从仪表板复制提示以确保准确性
- 完成后立即标记任务为已完成

### 文档管理

- 保持需求简洁但完整
- 包含验收标准
- 在设计中添加技术约束
- 在需要时引用外部文档

### 协作

- 使用审批评论提供反馈
- 与团队共享仪表板 URL
- 导出文档以供外部审查
- 通过修订历史跟踪更改

## 与 AI 助手集成

### 上下文感知

AI 助手自动：
- 了解你的项目结构
- 理解规范关系
- 跟踪实施进度
- 保持一致性

### 自然语言命令

自然对话：
- "我有哪些规范？"
- "显示还剩什么要做"
- "开始处理下一个任务"
- "更新设计以提高性能"

### 持续工作流

AI 在会话之间保持上下文：
- 从你离开的地方继续
- 引用以前的决策
- 在现有工作基础上构建
- 保持项目连贯性

## 相关文档

- [工作流程](WORKFLOW.md) - 详细工作流指南
- [提示指南](PROMPTING-GUIDE.md) - 示例提示
- [界面指南](INTERFACES.md) - 仪表板和扩展详情
- [工具参考](TOOLS-REFERENCE.md) - 完整工具文档

